import{a as wr}from"./chunk-YVH3MUTW.js";import{a as ae}from"./chunk-XC24IWTK.js";import{a as Xr,b as Wr}from"./chunk-FCAZCHV6.js";import{a as te}from"./chunk-WXHYUPIN.js";import"./chunk-BOD4ZWPQ.js";import"./chunk-24CS6DUF.js";import"./chunk-YJYNUSAM.js";import"./chunk-5JJWRCP3.js";import{b as Kr}from"./chunk-E34HJRR4.js";import{a as ee}from"./chunk-MCENFELV.js";import{b as Qr,j as hr,l as Zr,m as V,n as Jr,o as re}from"./chunk-HFFTYNMA.js";import"./chunk-XHGORZV2.js";import{A as Gr,B as gr,C as Hr,D as N,E as qr,F as B,I as Br,O as Yr,Q as jr,ca as Y,da as Q,g as gt,h as i,ia as C,j as v,k as ur,l as zr,n as $r,o as mr,p as pr,q as fr,r as Pr,s as Nr,u as K,x as vr,y as Vr,z as Ur}from"./chunk-3QLLRM5L.js";import{d as yr}from"./chunk-SISR4MA5.js";import"./chunk-24JW6VB3.js";import{a as Fr,b as Or,i as vt}from"./chunk-MGYUK2XN.js";var Z="comm",J="rule",rr="decl";var ie="@import";var oe="@keyframes";var ne="@layer";var xr=Math.abs,j=String.fromCharCode;function er(r){return r.trim()}function X(r,e,t){return r.replace(e,t)}function se(r,e,t){return r.indexOf(e,t)}function z(r,e){return r.charCodeAt(e)|0}function F(r,e,t){return r.slice(e,t)}function x(r){return r.length}function de(r){return r.length}function U(r,e){return e.push(r),r}var tr=1,G=1,ce=0,S=0,h=0,q="";function ar(r,e,t,a,o,n,d,c){return{value:r,root:e,parent:t,type:a,props:o,children:n,line:tr,column:G,length:d,return:"",siblings:c}}function le(){return h}function ue(){return h=S>0?z(q,--S):0,G--,h===10&&(G=1,tr--),h}function T(){return h=S<ce?z(q,S++):0,G++,h===10&&(G=1,tr++),h}function I(){return z(q,S)}function W(){return S}function ir(r,e){return F(q,r,e)}function H(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function me(r){return tr=G=1,ce=x(q=r),S=0,[]}function pe(r){return q="",r}function or(r){return er(ir(S-1,br(r===91?r+2:r===40?r+1:r)))}function fe(r){for(;(h=I())&&h<33;)T();return H(r)>2||H(h)>3?"":" "}function ve(r,e){for(;--e&&T()&&!(h<48||h>102||h>57&&h<65||h>70&&h<97););return ir(r,W()+(e<6&&I()==32&&T()==32))}function br(r){for(;T();)switch(h){case r:return S;case 34:case 39:r!==34&&r!==39&&br(h);break;case 40:r===41&&br(r);break;case 92:T();break}return S}function ge(r,e){for(;T()&&r+h!==57;)if(r+h===84&&I()===47)break;return"/*"+ir(e,S-1)+"*"+j(r===47?r:T())}function he(r){for(;!H(I());)T();return ir(r,S)}function xe(r){return pe(nr("",null,null,null,[""],r=me(r),0,[0],r))}function nr(r,e,t,a,o,n,d,c,s){for(var l=0,f=0,u=d,y=0,E=0,w=0,p=1,k=1,_=1,g=0,L="",R=o,M=n,D=a,m=L;k;)switch(w=g,g=T()){case 40:if(w!=108&&z(m,u-1)==58){se(m+=X(or(g),"&","&\f"),"&\f",xr(l?c[l-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:m+=or(g);break;case 9:case 10:case 13:case 32:m+=fe(w);break;case 92:m+=ve(W()-1,7);continue;case 47:switch(I()){case 42:case 47:U(ht(ge(T(),W()),e,t,s),s),(H(w||1)==5||H(I()||1)==5)&&x(m)&&F(m,-1,void 0)!==" "&&(m+=" ");break;default:m+="/"}break;case 123*p:c[l++]=x(m)*_;case 125*p:case 59:case 0:switch(g){case 0:case 125:k=0;case 59+f:_==-1&&(m=X(m,/\f/g,"")),E>0&&(x(m)-u||p===0&&w===47)&&U(E>32?we(m+";",a,t,u-1,s):we(X(m," ","")+";",a,t,u-2,s),s);break;case 59:m+=";";default:if(U(D=ye(m,e,t,l,f,o,c,L,R=[],M=[],u,n),n),g===123)if(f===0)nr(m,e,D,D,R,n,u,c,M);else switch(y===99&&z(m,3)===110?100:y){case 100:case 108:case 109:case 115:nr(r,D,D,a&&U(ye(r,D,D,0,0,o,c,L,o,R=[],u,M),M),o,M,u,c,a?R:M);break;default:nr(m,D,D,D,[""],M,0,c,M)}}l=f=E=0,p=_=1,L=m="",u=d;break;case 58:u=1+x(m),E=w;default:if(p<1){if(g==123)--p;else if(g==125&&p++==0&&ue()==125)continue}switch(m+=j(g),g*p){case 38:_=f>0?1:(m+="\f",-1);break;case 44:c[l++]=(x(m)-1)*_,_=1;break;case 64:I()===45&&(m+=or(T())),y=I(),f=u=x(L=m+=he(W())),g++;break;case 45:w===45&&x(m)==2&&(p=0)}}return n}function ye(r,e,t,a,o,n,d,c,s,l,f,u){for(var y=o-1,E=o===0?n:[""],w=de(E),p=0,k=0,_=0;p<a;++p)for(var g=0,L=F(r,y+1,y=xr(k=d[p])),R=r;g<w;++g)(R=er(k>0?E[g]+" "+L:X(L,/&\f/g,E[g])))&&(s[_++]=R);return ar(r,e,t,o===0?J:c,s,l,f,u)}function ht(r,e,t,a){return ar(r,e,t,Z,j(le()),F(r,2,-2),0,a)}function we(r,e,t,a,o){return ar(r,e,t,rr,F(r,0,a),F(r,a+1,-1),a,o)}function sr(r,e){for(var t="",a=0;a<r.length;a++)t+=e(r[a],a,r,e)||"";return t}function be(r,e,t,a){switch(r.type){case ne:if(r.children.length)break;case ie:case rr:return r.return=r.return||r.value;case Z:return"";case oe:return r.return=r.value+"{"+sr(r.children,a)+"}";case J:if(!x(r.value=r.props.join(",")))return""}return x(t=sr(r.children,a))?r.return=r.value+"{"+t+"}":""}var Ze=vt(gt(),1);var _e="c4",yt=i(r=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(r),"detector"),wt=i(async()=>{let{diagram:r}=await import("./c4Diagram-GPMAACGM-HHDMCFIK.js");return{id:_e,diagram:r}},"loader"),xt={id:_e,detector:yt,loader:wt},bt=xt,Le="flowchart",Et=i((r,e)=>{var t,a;return((t=e==null?void 0:e.flowchart)==null?void 0:t.defaultRenderer)==="dagre-wrapper"||((a=e==null?void 0:e.flowchart)==null?void 0:a.defaultRenderer)==="elk"?!1:/^\s*graph/.test(r)},"detector"),Dt=i(async()=>{let{diagram:r}=await import("./flowDiagram-TSWR6T2D-CGIBLURF.js");return{id:Le,diagram:r}},"loader"),St={id:Le,detector:Et,loader:Dt},Tt=St,Ae="flowchart-v2",_t=i((r,e)=>{var t,a,o;return((t=e==null?void 0:e.flowchart)==null?void 0:t.defaultRenderer)==="dagre-d3"?!1:(((a=e==null?void 0:e.flowchart)==null?void 0:a.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(r)&&((o=e==null?void 0:e.flowchart)==null?void 0:o.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(r))},"detector"),Lt=i(async()=>{let{diagram:r}=await import("./flowDiagram-TSWR6T2D-CGIBLURF.js");return{id:Ae,diagram:r}},"loader"),At={id:Ae,detector:_t,loader:Lt},Mt=At,Me="er",kt=i(r=>/^\s*erDiagram/.test(r),"detector"),Rt=i(async()=>{let{diagram:r}=await import("./erDiagram-WO52GFNT-VSWY3LMX.js");return{id:Me,diagram:r}},"loader"),Ct={id:Me,detector:kt,loader:Rt},It=Ct,ke="gitGraph",Ft=i(r=>/^\s*gitGraph/.test(r),"detector"),Ot=i(async()=>{let{diagram:r}=await import("./gitGraphDiagram-5C7YHVU6-PCYBHDR3.js");return{id:ke,diagram:r}},"loader"),zt={id:ke,detector:Ft,loader:Ot},$t=zt,Re="gantt",Pt=i(r=>/^\s*gantt/.test(r),"detector"),Nt=i(async()=>{let{diagram:r}=await import("./ganttDiagram-FAOCOTIY-BPQFCONE.js");return{id:Re,diagram:r}},"loader"),Vt={id:Re,detector:Pt,loader:Nt},Ut=Vt,Ce="info",Gt=i(r=>/^\s*info/.test(r),"detector"),Ht=i(async()=>{let{diagram:r}=await import("./infoDiagram-P5D6MX3V-SP4J43PP.js");return{id:Ce,diagram:r}},"loader"),qt={id:Ce,detector:Gt,loader:Ht},Ie="pie",Bt=i(r=>/^\s*pie/.test(r),"detector"),Yt=i(async()=>{let{diagram:r}=await import("./pieDiagram-BLWKPB35-KDFTSX7J.js");return{id:Ie,diagram:r}},"loader"),jt={id:Ie,detector:Bt,loader:Yt},Fe="quadrantChart",Xt=i(r=>/^\s*quadrantChart/.test(r),"detector"),Wt=i(async()=>{let{diagram:r}=await import("./quadrantDiagram-QXWEEFXS-2HND56DG.js");return{id:Fe,diagram:r}},"loader"),Kt={id:Fe,detector:Xt,loader:Wt},Qt=Kt,Oe="xychart",Zt=i(r=>/^\s*xychart-beta/.test(r),"detector"),Jt=i(async()=>{let{diagram:r}=await import("./xychartDiagram-MYLB5AYS-UMVN633U.js");return{id:Oe,diagram:r}},"loader"),ra={id:Oe,detector:Zt,loader:Jt},ea=ra,ze="requirement",ta=i(r=>/^\s*requirement(Diagram)?/.test(r),"detector"),aa=i(async()=>{let{diagram:r}=await import("./requirementDiagram-XAUNFCZY-OSJXYI33.js");return{id:ze,diagram:r}},"loader"),ia={id:ze,detector:ta,loader:aa},oa=ia,$e="sequence",na=i(r=>/^\s*sequenceDiagram/.test(r),"detector"),sa=i(async()=>{let{diagram:r}=await import("./sequenceDiagram-D25TJ2OB-TLHWWDX3.js");return{id:$e,diagram:r}},"loader"),da={id:$e,detector:na,loader:sa},ca=da,Pe="class",la=i((r,e)=>{var t;return((t=e==null?void 0:e.class)==null?void 0:t.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(r)},"detector"),ua=i(async()=>{let{diagram:r}=await import("./classDiagram-FEGYTUDG-BTDRFGBW.js");return{id:Pe,diagram:r}},"loader"),ma={id:Pe,detector:la,loader:ua},pa=ma,Ne="classDiagram",fa=i((r,e)=>{var t;return/^\s*classDiagram/.test(r)&&((t=e==null?void 0:e.class)==null?void 0:t.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(r)},"detector"),va=i(async()=>{let{diagram:r}=await import("./classDiagram-v2-R65JCUOM-7I33JXXW.js");return{id:Ne,diagram:r}},"loader"),ga={id:Ne,detector:fa,loader:va},ha=ga,Ve="state",ya=i((r,e)=>{var t;return((t=e==null?void 0:e.state)==null?void 0:t.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(r)},"detector"),wa=i(async()=>{let{diagram:r}=await import("./stateDiagram-GNSP7T6Y-XLPHEHPO.js");return{id:Ve,diagram:r}},"loader"),xa={id:Ve,detector:ya,loader:wa},ba=xa,Ue="stateDiagram",Ea=i((r,e)=>{var t;return!!(/^\s*stateDiagram-v2/.test(r)||/^\s*stateDiagram/.test(r)&&((t=e==null?void 0:e.state)==null?void 0:t.defaultRenderer)==="dagre-wrapper")},"detector"),Da=i(async()=>{let{diagram:r}=await import("./stateDiagram-v2-HP6YRVRG-YTNX4MYV.js");return{id:Ue,diagram:r}},"loader"),Sa={id:Ue,detector:Ea,loader:Da},Ta=Sa,Ge="journey",_a=i(r=>/^\s*journey/.test(r),"detector"),La=i(async()=>{let{diagram:r}=await import("./journeyDiagram-UIGPPNLY-Z3CPYPHH.js");return{id:Ge,diagram:r}},"loader"),Aa={id:Ge,detector:_a,loader:La},Ma=Aa,ka=i((r,e,t)=>{v.debug(`rendering svg for syntax error
`);let a=ae(e),o=a.append("g");a.attr("viewBox","0 0 2412 512"),Yr(a,100,512,!0),o.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),o.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),o.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),o.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),o.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),o.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),o.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),o.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${t}`)},"draw"),He={draw:ka},Ra=He,Ca={db:{},renderer:He,parser:{parse:i(()=>{},"parse")}},Ia=Ca,qe="flowchart-elk",Fa=i((r,e={})=>{var t;return/^\s*flowchart-elk/.test(r)||/^\s*flowchart|graph/.test(r)&&((t=e==null?void 0:e.flowchart)==null?void 0:t.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),Oa=i(async()=>{let{diagram:r}=await import("./flowDiagram-TSWR6T2D-CGIBLURF.js");return{id:qe,diagram:r}},"loader"),za={id:qe,detector:Fa,loader:Oa},$a=za,Be="timeline",Pa=i(r=>/^\s*timeline/.test(r),"detector"),Na=i(async()=>{let{diagram:r}=await import("./timeline-definition-27KQCCZ3-WLDVBXV6.js");return{id:Be,diagram:r}},"loader"),Va={id:Be,detector:Pa,loader:Na},Ua=Va,Ye="mindmap",Ga=i(r=>/^\s*mindmap/.test(r),"detector"),Ha=i(async()=>{let{diagram:r}=await import("./mindmap-definition-R7LC4OIY-O77LSXNI.js");return{id:Ye,diagram:r}},"loader"),qa={id:Ye,detector:Ga,loader:Ha},Ba=qa,je="kanban",Ya=i(r=>/^\s*kanban/.test(r),"detector"),ja=i(async()=>{let{diagram:r}=await import("./kanban-definition-KMT3NSR2-AX2TP2HZ.js");return{id:je,diagram:r}},"loader"),Xa={id:je,detector:Ya,loader:ja},Wa=Xa,Xe="sankey",Ka=i(r=>/^\s*sankey-beta/.test(r),"detector"),Qa=i(async()=>{let{diagram:r}=await import("./sankeyDiagram-LVV36NHA-5CKAJR6Z.js");return{id:Xe,diagram:r}},"loader"),Za={id:Xe,detector:Ka,loader:Qa},Ja=Za,We="packet",ri=i(r=>/^\s*packet-beta/.test(r),"detector"),ei=i(async()=>{let{diagram:r}=await import("./diagram-NZMEDLQF-R7ZPGESK.js");return{id:We,diagram:r}},"loader"),ti={id:We,detector:ri,loader:ei},Ke="block",ai=i(r=>/^\s*block-beta/.test(r),"detector"),ii=i(async()=>{let{diagram:r}=await import("./blockDiagram-XN6IQ5JY-SCEXIBV4.js");return{id:Ke,diagram:r}},"loader"),oi={id:Ke,detector:ai,loader:ii},ni=oi,Qe="architecture",si=i(r=>/^\s*architecture/.test(r),"detector"),di=i(async()=>{let{diagram:r}=await import("./architectureDiagram-AYX4OTIS-DOBNBG6A.js");return{id:Qe,diagram:r}},"loader"),ci={id:Qe,detector:si,loader:di},li=ci,Ee=!1,cr=i(()=>{Ee||(Ee=!0,Y("error",Ia,r=>r.toLowerCase().trim()==="error"),Y("---",{db:{clear:i(()=>{},"clear")},styles:{},renderer:{draw:i(()=>{},"draw")},parser:{parse:i(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:i(()=>null,"init")},r=>r.toLowerCase().trimStart().startsWith("---")),fr(bt,Wa,ha,pa,It,Ut,qt,jt,oa,ca,$a,Mt,Tt,Ba,Ua,$t,Ta,ba,Ma,Qt,Ja,ti,ea,ni,li))},"addDiagrams"),ui=i(async()=>{v.debug("Loading registered diagrams");let e=(await Promise.allSettled(Object.entries(mr).map(async([t,{detector:a,loader:o}])=>{if(o)try{Q(t)}catch(n){try{let{diagram:d,id:c}=await o();Y(c,d,a)}catch(d){throw v.error(`Failed to load external diagram with key ${t}. Removing from detectors.`),delete mr[t],d}}}))).filter(t=>t.status==="rejected");if(e.length>0){v.error(`Failed to load ${e.length} external diagrams`);for(let t of e)v.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),mi="graphics-document document";function Je(r,e){r.attr("role",mi),e!==""&&r.attr("aria-roledescription",e)}i(Je,"setA11yDiagramInfo");function rt(r,e,t,a){if(r.insert!==void 0){if(t){let o=`chart-desc-${a}`;r.attr("aria-describedby",o),r.insert("desc",":first-child").attr("id",o).text(t)}if(e){let o=`chart-title-${a}`;r.attr("aria-labelledby",o),r.insert("title",":first-child").attr("id",o).text(e)}}}i(rt,"addSVGa11yTitleDescription");var $,Dr=($=class{constructor(e,t,a,o,n){this.type=e,this.text=t,this.db=a,this.parser=o,this.renderer=n}static async fromText(e,t={}){var l,f;let a=N(),o=pr(e,a);e=Jr(e)+`
`;try{Q(o)}catch(u){let y=Pr(o);if(!y)throw new $r(`Diagram ${o} not found.`);let{id:E,diagram:w}=await y();Y(E,w)}let{db:n,parser:d,renderer:c,init:s}=Q(o);return d.parser&&(d.parser.yy=n),(l=n.clear)==null||l.call(n),s==null||s(a),t.title&&((f=n.setDiagramTitle)==null||f.call(n,t.title)),await d.parse(e),new $(o,e,n,d,c)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},i($,"Diagram"),$),De=[],pi=i(()=>{De.forEach(r=>{r()}),De=[]},"attachFunctions"),fi=i(r=>r.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function et(r){var o;let e=r.match(zr);if(!e)return{text:r,metadata:{}};let t=(o=Wr(e[1],{schema:Xr}))!=null?o:{};t=typeof t=="object"&&!Array.isArray(t)?t:{};let a={};return t.displayMode&&(a.displayMode=t.displayMode.toString()),t.title&&(a.title=t.title.toString()),t.config&&(a.config=t.config),{text:r.slice(e[0].length),metadata:a}}i(et,"extractFrontMatter");var vi=i(r=>r.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,t,a)=>"<"+t+a.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),gi=i(r=>{let{text:e,metadata:t}=et(r),{displayMode:a,title:o,config:n={}}=t;return a&&(n.gantt||(n.gantt={}),n.gantt.displayMode=a),{title:o,config:n,text:e}},"processFrontmatter"),hi=i(r=>{var a;let e=(a=V.detectInit(r))!=null?a:{},t=V.detectDirective(r,"wrap");return Array.isArray(t)?e.wrap=t.some(({type:o})=>o==="wrap"):(t==null?void 0:t.type)==="wrap"&&(e.wrap=!0),{text:Qr(r),directive:e}},"processDirectives");function Tr(r){let e=vi(r),t=gi(e),a=hi(t.text),o=Zr(t.config,a.directive);return r=fi(a.text),{code:r,title:t.title,config:o}}i(Tr,"preprocessDiagram");function tt(r){let e=new TextEncoder().encode(r),t=Array.from(e,a=>String.fromCodePoint(a)).join("");return btoa(t)}i(tt,"toBase64");var yi=5e4,wi="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",xi="sandbox",bi="loose",Ei="http://www.w3.org/2000/svg",Di="http://www.w3.org/1999/xlink",Si="http://www.w3.org/1999/xhtml",Ti="100%",_i="100%",Li="border:0;margin:0;",Ai="margin:0",Mi="allow-top-navigation-by-user-activation allow-popups",ki='The "iframe" tag is not supported by your browser.',Ri=["foreignobject"],Ci=["dominant-baseline"];function _r(r){var t;let e=Tr(r);return B(),qr((t=e.config)!=null?t:{}),e}i(_r,"processAndSetConfigs");async function at(r,e){cr();try{let{code:t,config:a}=_r(r);return{diagramType:(await ot(t)).type,config:a}}catch(t){if(e!=null&&e.suppressErrors)return!1;throw t}}i(at,"parse");var Se=i((r,e,t=[])=>`
.${r} ${e} { ${t.join(" !important; ")} !important; }`,"cssImportantStyles"),Ii=i((r,e=new Map)=>{var a,o;let t="";if(r.themeCSS!==void 0&&(t+=`
${r.themeCSS}`),r.fontFamily!==void 0&&(t+=`
:root { --mermaid-font-family: ${r.fontFamily}}`),r.altFontFamily!==void 0&&(t+=`
:root { --mermaid-alt-font-family: ${r.altFontFamily}}`),e instanceof Map){let s=((o=r.htmlLabels)!=null?o:(a=r.flowchart)==null?void 0:a.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(l=>{yr(l.styles)||s.forEach(f=>{t+=Se(l.id,f,l.styles)}),yr(l.textStyles)||(t+=Se(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(f=>f.replace("color","fill"))))})}return t},"createCssStyles"),Fi=i((r,e,t,a)=>{let o=Ii(r,t),n=jr(e,o,r.themeVariables);return sr(xe(`${a}{${n}}`),be)},"createUserStyles"),Oi=i((r="",e,t)=>{let a=r;return!t&&!e&&(a=a.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),a=re(a),a=a.replace(/<br>/g,"<br/>"),a},"cleanUpSvgCode"),zi=i((r="",e)=>{var o,n;let t=(n=(o=e==null?void 0:e.viewBox)==null?void 0:o.baseVal)!=null&&n.height?e.viewBox.baseVal.height+"px":_i,a=tt(`<body style="${Ai}">${r}</body>`);return`<iframe style="width:${Ti};height:${t};${Li}" src="data:text/html;charset=UTF-8;base64,${a}" sandbox="${Mi}">
  ${ki}
</iframe>`},"putIntoIFrame"),Te=i((r,e,t,a,o)=>{let n=r.append("div");n.attr("id",t),a&&n.attr("style",a);let d=n.append("svg").attr("id",e).attr("width","100%").attr("xmlns",Ei);return o&&d.attr("xmlns:xlink",o),d.append("g"),r},"appendDivSvgG");function Sr(r,e){return r.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}i(Sr,"sandboxedIframe");var $i=i((r,e,t,a)=>{var o,n,d;(o=r.getElementById(e))==null||o.remove(),(n=r.getElementById(t))==null||n.remove(),(d=r.getElementById(a))==null||d.remove()},"removeExistingElements"),Pi=i(async function(r,e,t){var Lr,Ar,Mr,kr,Rr,Cr,Ir;cr();let a=_r(e);e=a.code;let o=N();v.debug(o),e.length>((Lr=o==null?void 0:o.maxTextSize)!=null?Lr:yi)&&(e=wi);let n="#"+r,d="i"+r,c="#"+d,s="d"+r,l="#"+s,f=i(()=>{let lr=C(y?c:l).node();lr&&"remove"in lr&&lr.remove()},"removeTempElements"),u=C("body"),y=o.securityLevel===xi,E=o.securityLevel===bi,w=o.fontFamily;if(t!==void 0){if(t&&(t.innerHTML=""),y){let A=Sr(C(t),d);u=C(A.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=C(t);Te(u,r,s,`font-family: ${w}`,Di)}else{if($i(document,r,s,d),y){let A=Sr(C("body"),d);u=C(A.nodes()[0].contentDocument.body),u.node().style.margin=0}else u=C("body");Te(u,r,s)}let p,k;try{p=await Dr.fromText(e,{title:a.title})}catch(A){if(o.suppressErrorRendering)throw f(),A;p=await Dr.fromText("error"),k=A}let _=u.select(l).node(),g=p.type,L=_.firstChild,R=L.firstChild,M=(Mr=(Ar=p.renderer).getClasses)==null?void 0:Mr.call(Ar,e,p),D=Fi(o,g,M,n),m=document.createElement("style");m.innerHTML=D,L.insertBefore(m,R);try{await p.renderer.draw(e,r,wr,p)}catch(A){throw o.suppressErrorRendering?f():Ra.draw(e,r,wr),A}let mt=u.select(`${l} svg`),pt=(Rr=(kr=p.db).getAccTitle)==null?void 0:Rr.call(kr),ft=(Ir=(Cr=p.db).getAccDescription)==null?void 0:Ir.call(Cr);nt(g,mt,pt,ft),u.select(`[id="${r}"]`).selectAll("foreignobject > *").attr("xmlns",Si);let O=u.select(l).node().innerHTML;if(v.debug("config.arrowMarkerAbsolute",o.arrowMarkerAbsolute),O=Oi(O,y,Br(o.arrowMarkerAbsolute)),y){let A=u.select(l+" svg").node();O=zi(O,A)}else E||(O=Ze.default.sanitize(O,{ADD_TAGS:Ri,ADD_ATTR:Ci}));if(pi(),k)throw k;return f(),{diagramType:g,svg:O,bindFunctions:p.db.bindFunctions}},"render");function it(r={}){var a;let e=Nr({},r);e!=null&&e.fontFamily&&!((a=e.themeVariables)!=null&&a.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Ur(e),e!=null&&e.theme&&e.theme in K?e.themeVariables=K[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=K.default.getThemeVariables(e.themeVariables));let t=typeof e=="object"?Vr(e):gr();ur(t.logLevel),cr()}i(it,"initialize");var ot=i((r,e={})=>{let{code:t}=Tr(r);return Dr.fromText(t,e)},"getDiagramFromText");function nt(r,e,t,a){Je(e,r),rt(e,t,a,e.attr("id"))}i(nt,"addA11yInfo");var P=Object.freeze({render:Pi,parse:at,getDiagramFromText:ot,initialize:it,getConfig:N,setConfig:Hr,getSiteConfig:gr,updateSiteConfig:Gr,reset:i(()=>{B()},"reset"),globalReset:i(()=>{B(vr)},"globalReset"),defaultConfig:vr});ur(N().logLevel);B(N());var Ni=i((r,e,t)=>{v.warn(r),hr(r)?(t&&t(r.str,r.hash),e.push(Or(Fr({},r),{message:r.str,error:r}))):(t&&t(r),r instanceof Error&&e.push({str:r.message,message:r.message,hash:r.name,error:r}))},"handleError"),st=i(async function(r={querySelector:".mermaid"}){try{await Vi(r)}catch(e){if(hr(e)&&v.error(e.str),b.parseError&&b.parseError(e),!r.suppressErrors)throw v.error("Use the suppressErrors option to suppress these errors"),e}},"run"),Vi=i(async function({postRenderCallback:r,querySelector:e,nodes:t}={querySelector:".mermaid"}){let a=P.getConfig();v.debug(`${r?"":"No "}Callback function found`);let o;if(t)o=t;else if(e)o=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");v.debug(`Found ${o.length} diagrams`),(a==null?void 0:a.startOnLoad)!==void 0&&(v.debug("Start On Load: "+(a==null?void 0:a.startOnLoad)),P.updateSiteConfig({startOnLoad:a==null?void 0:a.startOnLoad}));let n=new V.InitIDGenerator(a.deterministicIds,a.deterministicIDSeed),d,c=[];for(let s of Array.from(o)){if(v.info("Rendering diagram: "+s.id),s.getAttribute("data-processed"))continue;s.setAttribute("data-processed","true");let l=`mermaid-${n.next()}`;d=s.innerHTML,d=ee(V.entityDecode(d)).trim().replace(/<br\s*\/?>/gi,"<br/>");let f=V.detectInit(d);f&&v.debug("Detected early reinit: ",f);try{let{svg:u,bindFunctions:y}=await ut(l,d,s);s.innerHTML=u,r&&await r(l),y&&y(s)}catch(u){Ni(u,c,b.parseError)}}if(c.length>0)throw c[0]},"runThrowsErrors"),dt=i(function(r){P.initialize(r)},"initialize"),Ui=i(async function(r,e,t){v.warn("mermaid.init is deprecated. Please use run instead."),r&&dt(r);let a={postRenderCallback:t,querySelector:".mermaid"};typeof e=="string"?a.querySelector=e:e&&(e instanceof HTMLElement?a.nodes=[e]:a.nodes=e),await st(a)},"init"),Gi=i(async(r,{lazyLoad:e=!0}={})=>{cr(),fr(...r),e===!1&&await ui()},"registerExternalDiagrams"),ct=i(function(){if(b.startOnLoad){let{startOnLoad:r}=P.getConfig();r&&b.run().catch(e=>v.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document!="undefined"&&window.addEventListener("load",ct,!1);var Hi=i(function(r){b.parseError=r},"setParseErrorHandler"),dr=[],Er=!1,lt=i(async()=>{if(!Er){for(Er=!0;dr.length>0;){let r=dr.shift();if(r)try{await r()}catch(e){v.error("Error executing queue",e)}}Er=!1}},"executeQueue"),qi=i(async(r,e)=>new Promise((t,a)=>{let o=i(()=>new Promise((n,d)=>{P.parse(r,e).then(c=>{n(c),t(c)},c=>{var s;v.error("Error parsing",c),(s=b.parseError)==null||s.call(b,c),d(c),a(c)})}),"performCall");dr.push(o),lt().catch(a)}),"parse"),ut=i((r,e,t)=>new Promise((a,o)=>{let n=i(()=>new Promise((d,c)=>{P.render(r,e,t).then(s=>{d(s),a(s)},s=>{var l;v.error("Error parsing",s),(l=b.parseError)==null||l.call(b,s),c(s),o(s)})}),"performCall");dr.push(n),lt().catch(o)}),"render"),b={startOnLoad:!0,mermaidAPI:P,parse:qi,render:ut,init:Ui,run:st,registerExternalDiagrams:Gi,registerLayoutLoaders:te,initialize:dt,parseError:void 0,contentLoaded:ct,setParseErrorHandler:Hi,detectType:pr,registerIconPacks:Kr},xo=b;export{xo as default};
/*! Bundled license information:

mermaid/dist/mermaid.core.mjs:
  (*! Check if previously processed *)
  (*!
   * Wait for document loaded before starting the execution
   *)
*/
